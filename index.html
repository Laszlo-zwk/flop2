<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Ai-Lani RGB Strobe</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      width: 100%;
      height: 100%;
      background: #111;
      cursor: crosshair;
      position: relative;
      font-family: sans-serif;
    }

    .floating-img {
      position: absolute;
      animation: strobe 0.2s ease-in-out forwards;
      pointer-events: none;
      width: 15vw; /* taille adaptative selon écran */
      max-width: 150px; /* limite max */
      min-width: 80px;  /* limite min */
    }

    @keyframes strobe {
      0%   { opacity: 0; filter: hue-rotate(0deg) brightness(2); }
      20%  { opacity: 1; filter: hue-rotate(90deg) brightness(1.8); }
      40%  { opacity: 1; filter: hue-rotate(180deg) brightness(1.5); }
      60%  { opacity: 1; filter: hue-rotate(270deg) brightness(1.5); }
      80%  { opacity: 1; filter: hue-rotate(360deg) brightness(1.2); }
      100% { opacity: 1; filter: hue-rotate(0deg) brightness(1); }
    }
  </style>
</head>
<body>

  <!-- Image modèle cachée -->
  <img src="Ai-Laninini.png" id="photo" style="display:none;">

  <!-- Audio Ai-Lani -->
  <audio id="ai-lani-sound" src="ai-lani.mp3"></audio>

  <script>
    const body = document.body;
    const template = document.getElementById("photo");
    const sound = document.getElementById("ai-lani-sound");

    let mouseDown = false;

    // Fonction pour créer une image à une position donnée
    function spawnImage(x, y) {
      // Jouer le son (clone pour superposition)
      const cloneSound = sound.cloneNode();
      cloneSound.play();

      // Créer le clone de l'image
      const clone = template.cloneNode(true);
      clone.style.display = 'block';
      clone.className = 'floating-img';

      // Taille adaptative (optionnelle random pour effet dynamique)
      const size = 15 + Math.random() * 10; // 15vw à 25vw
      clone.style.width = size + 'vw';

      // Position légèrement aléatoire autour du point
      const offsetX = (Math.random() - 0.5) * 100;
      const offsetY = (Math.random() - 0.5) * 100;
      clone.style.left = (x + offsetX) + 'px';
      clone.style.top = (y + offsetY) + 'px';

      body.appendChild(clone);
    }

    // Desktop events
    body.addEventListener('mousedown', e => {
      mouseDown = true;
      spawnImage(e.clientX, e.clientY);
    });

    body.addEventListener('mousemove', e => {
      if (mouseDown) spawnImage(e.clientX, e.clientY);
    });

    body.addEventListener('mouseup', () => mouseDown = false);

    body.addEventListener('click', e => {
      spawnImage(e.clientX, e.clientY);
    });

    // Mobile touch events
    body.addEventListener('touchstart', e => {
      e.preventDefault();
      mouseDown = true;
      const touch = e.touches[0];
      spawnImage(touch.clientX, touch.clientY);
    });

    body.addEventListener('touchmove', e => {
      e.preventDefault();
      if (mouseDown) {
        const touch = e.touches[0];
        spawnImage(touch.clientX, touch.clientY);
      }
    });

    body.addEventListener('touchend', e => {
      mouseDown = false;
    });
  </script>

</body>
</html>
